{% extends "ActivityEvents/layout.html" %}
{% load static %}
{% block body %}
<style>
     @keyframes floating {
    0%, 100% {
      transform: translate(0, 0);
    }
    50% {
      transform: translate(0, -10px);
    }
  }

  .custom-animation {
    animation: floating 2s infinite;
  }
  #ButtonEventRangeForm:disabled {
   background-color: gray;
   cursor: not-allowed;
 }
</style>

<section class="w-full h-full flex flex-col justify-center items-center">
   <section class="relative bg-[#F8FCFF] xl:px-[8rem] lg:px-[6rem] md:px-[3rem] min-[320px]:px-[0.5rem]  xl:h-[28rem] lg:h-[28rem] md:h-[29rem] min-[320px]:h-[21rem]  w-full mx-auto flex flex-row justify-center items-center" >
      <div class="flex flex-col w-6/12  h-full justify-center items-center p-[0.5rem] ">
                <h1 class="xl:text-[2.1rem] lg:text-[2rem] md:text-[2.1rem]  min-[320px]:text-[1rem]  font-medium 	 text-[#464747] "><span class="text-[#1a8cf7]">Hub200â€™s</span> event lineup: <br>  music, tech, art, thrilling experiences await.</h1>

              <div class="flex flex-row justify-center items-center xl:mr-[15rem] lg:mr-[11.5rem] md:mr-[2.4rem] min-[320px]:ml-[1rem]">
               <button   class="xl:w-[8.5rem] xl:h-[2.7rem] lg:w-[7rem] lg:h-[2.4rem] md:w-[9rem] md:h-[2.9rem] min-[320px]:w-[4.5rem] min-[320px]:h-[1.4rem]  mt-[2.5rem] bg-[#71B3F1] rounded-[10rem]   text-white   font-medium px-[0.7rem] flex justify-center items-center hoverzoom " ><a class="xl:text-[1rem] lg:text-[0.9rem] md:text-[0.9rem] min-[320px]:text-[0.5rem] "  href="{% url 'registrations' %}">
                  <span class="button-text">Register</span>
                  <div class="fill-container"></div>
               </a></button>
               <button  class="xl:w-[8.5rem] xl:h-[2.7rem] lg:w-[7rem] lg:h-[2.4rem] md:w-[9rem] md:h-[2.9rem] min-[320px]:w-[4.5rem] min-[320px]:h-[1.4rem]  mt-[2.5rem] bg-white drop-shadow-xl ml-[1rem] rounded-[10rem]   text-black   font-medium px-[0.7rem] flex justify-center items-center hover:bg-[#85C5FF] hoverzoom "><a class="xl:text-[1rem] lg:text-[0.9rem] md:text-[0.9rem] min-[320px]:text-[0.5rem] "  href="{% url 'calendar' %}">
                  <span class="button-text">Calendar</span>
                  <div class="fill-container"></div>
               </a></button>
              </div>

      </div>
      <div class="flex flex-col w-6/12 h-full  items-center relative  mt-[8rem] ">
          <div class="xl:w-[29rem] xl:h-[18rem] min-[320px]:w-[10rem]  min-[320px]:h-[10rem] flex flex-col justify-center items-center lg:w-[20.5rem] lg:h-[14rem] md:w-[20.5rem] md:h-[14rem]  bg-transparent relative rounded-[0.3rem] rounded-tr-[0.8rem]">
              <img class="xl:h-[29rem] lg:h-[22rem] md:h-[22rem] min-[320px]:h-[9.9rem]  absolute xl:right-[2rem] lg:right-[2rem] md-right-[1.5rem] min-[320px]:right-[0.4rem] xl:top-[-8rem] lg:top-[-5rem] md:top-[-4.8rem] min-[320px]:top-[-1.7rem]  z-10 custom-animation " src="{% static 'ActivityEvents/Groupdiscussionamico2.png' %}" alt="">

          </div>
      </div>
      <div class="xl:w-[50rem] xl:h-[7rem] lg:w-[45.6rem] lg:h-[6.9rem] md:w-[38rem] md:h-[6.2rem] min-[320px]:w-[19.5rem] min-[320px]:h-[4.7rem] bg-white drop-shadow-xl absolute xl:bottom-[-2.5rem] lg:bottom-[-2.5rem] md:bottom-[-3.5rem] min-[320px]:bottom-[-1.7rem] rounded-[1.5rem] flex flex-row justify-between items-center xl:px-[3rem] lg:px-[2.8rem] md:px-[2rem] min-[320px]:px-[0.6rem] 	 ">
         <div class="flex flex-col justify-center items-center">
            <svg class="relative xl:w-[4.7rem] xl:h-[4.7rem] lg:w-[4.9rem] lg:h-[4.9rem] md:w-[4.2rem] md:h-[4.2rem] min-[320px]:w-[3rem] min-[320px]:h-[3rem] " viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg">
               <path fill="#71B3F1" d="M43.2,-60.3C55.1,-50.8,63.2,-37,69.5,-21.6C75.9,-6.3,80.4,10.7,75.4,24C70.4,37.3,55.8,47,41.6,55.1C27.4,63.2,13.7,69.7,-2.5,73.2C-18.8,76.7,-37.6,77.2,-50.2,68.6C-62.8,60,-69.2,42.3,-73.5,24.8C-77.9,7.4,-80.2,-9.7,-75,-23.9C-69.7,-38.1,-56.9,-49.4,-43.1,-58.3C-29.4,-67.2,-14.7,-73.7,0.5,-74.4C15.7,-75.1,31.3,-69.9,43.2,-60.3Z" transform="translate(100 100)" />
               <h1 class="counter absolute xl:top-[1.1rem] lg:top-[0.8rem] md:top-[0.8rem] min-[320px]:top-[0.9rem] ml-[0.3rem] xl:text-[1.4rem] lg:text-[1.5rem] md:text-[1.24rem] min-[320px]:text-[0.9rem] xl:mt-[0.5rem] lg:mt-[0.8rem] md:mt-[0.9rem] min-[320px]:mt-[0.4rem] text-white" data-target="{{data.AllEventsCount}}" ></h1>
             </svg>
            <h1 class="xl:text-[1.1rem] lg:text-[1rem] md:text-[0.8rem] min-[320px]:text-[0.5rem] font-medium xl:mt-[0.2rem] lg:mt-[0.2rem] md:mt-[0.1rem] min-[320px]:mt-[0.2rem]">All Events</h1>
         </div>
         <div class="flex flex-col justify-center items-center">
            <svg class="relative xl:w-[4.7rem] xl:h-[4.7rem] lg:w-[4.9rem] lg:h-[4.9rem] md:w-[4.2rem] md:h-[4.2rem] min-[320px]:w-[3rem] min-[320px]:h-[3rem] " viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg">
               <path fill="#71B3F1" d="M43.2,-60.3C55.1,-50.8,63.2,-37,69.5,-21.6C75.9,-6.3,80.4,10.7,75.4,24C70.4,37.3,55.8,47,41.6,55.1C27.4,63.2,13.7,69.7,-2.5,73.2C-18.8,76.7,-37.6,77.2,-50.2,68.6C-62.8,60,-69.2,42.3,-73.5,24.8C-77.9,7.4,-80.2,-9.7,-75,-23.9C-69.7,-38.1,-56.9,-49.4,-43.1,-58.3C-29.4,-67.2,-14.7,-73.7,0.5,-74.4C15.7,-75.1,31.3,-69.9,43.2,-60.3Z" transform="translate(100 100)" />
               <h1 class="counter absolute xl:top-[1.1rem] lg:top-[0.8rem] md:top-[0.8rem] min-[320px]:top-[0.9rem] ml-[0.3rem] xl:text-[1.4rem] lg:text-[1.5rem] md:text-[1.24rem] min-[320px]:text-[0.9rem] xl:mt-[0.5rem] lg:mt-[0.8rem] md:mt-[0.9rem] min-[320px]:mt-[0.4rem] text-white" data-target="{{data.RegisteredPeopleCount}}" ></h1>
             </svg>
            <h1 class="xl:text-[1.1rem] lg:text-[1rem] md:text-[0.8rem] min-[320px]:text-[0.5rem] font-medium xl:mt-[0.2rem] lg:mt-[0.2rem] md:mt-[0.1rem] min-[320px]:mt-[0.2rem]">Registered People</h1>
         </div>
         <div class="flex flex-col justify-center items-center">
            <svg class="relative xl:w-[4.7rem] xl:h-[4.7rem] lg:w-[4.9rem] lg:h-[4.9rem] md:w-[4.2rem] md:h-[4.2rem] min-[320px]:w-[3rem] min-[320px]:h-[3rem] " viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg">
               <path fill="#71B3F1" d="M43.2,-60.3C55.1,-50.8,63.2,-37,69.5,-21.6C75.9,-6.3,80.4,10.7,75.4,24C70.4,37.3,55.8,47,41.6,55.1C27.4,63.2,13.7,69.7,-2.5,73.2C-18.8,76.7,-37.6,77.2,-50.2,68.6C-62.8,60,-69.2,42.3,-73.5,24.8C-77.9,7.4,-80.2,-9.7,-75,-23.9C-69.7,-38.1,-56.9,-49.4,-43.1,-58.3C-29.4,-67.2,-14.7,-73.7,0.5,-74.4C15.7,-75.1,31.3,-69.9,43.2,-60.3Z" transform="translate(100 100)" />
               <h1 class="counter absolute xl:top-[1.1rem] lg:top-[0.8rem] md:top-[0.8rem] min-[320px]:top-[0.9rem] ml-[0.3rem] xl:text-[1.4rem] lg:text-[1.5rem] md:text-[1.24rem] min-[320px]:text-[0.9rem] xl:mt-[0.5rem] lg:mt-[0.8rem] md:mt-[0.9rem] min-[320px]:mt-[0.4rem] text-white" data-target="{{data.AvailableEventsCount}}" ></h1>
             </svg>
            <h1 class="xl:text-[1.1rem] lg:text-[1rem] md:text-[0.8rem] min-[320px]:text-[0.5rem] font-medium xl:mt-[0.2rem] lg:mt-[0.2rem] md:mt-[0.1rem] min-[320px]:mt-[0.2rem]">Available Events</h1>
         </div>
         <div class="flex flex-col justify-center items-center">
            <svg class="relative xl:w-[4.7rem] xl:h-[4.7rem] lg:w-[4.9rem] lg:h-[4.9rem] md:w-[4.2rem] md:h-[4.2rem] min-[320px]:w-[3rem] min-[320px]:h-[3rem] " viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg">
               <path fill="#71B3F1" d="M43.2,-60.3C55.1,-50.8,63.2,-37,69.5,-21.6C75.9,-6.3,80.4,10.7,75.4,24C70.4,37.3,55.8,47,41.6,55.1C27.4,63.2,13.7,69.7,-2.5,73.2C-18.8,76.7,-37.6,77.2,-50.2,68.6C-62.8,60,-69.2,42.3,-73.5,24.8C-77.9,7.4,-80.2,-9.7,-75,-23.9C-69.7,-38.1,-56.9,-49.4,-43.1,-58.3C-29.4,-67.2,-14.7,-73.7,0.5,-74.4C15.7,-75.1,31.3,-69.9,43.2,-60.3Z" transform="translate(100 100)" />
               <h1 class="counter absolute xl:top-[1.1rem] lg:top-[0.8rem] md:top-[0.8rem] min-[320px]:top-[0.9rem] ml-[0.3rem] xl:text-[1.4rem] lg:text-[1.5rem] md:text-[1.24rem] min-[320px]:text-[0.9rem] xl:mt-[0.5rem] lg:mt-[0.8rem] md:mt-[0.9rem] min-[320px]:mt-[0.4rem] text-white" data-target="{{data.NotAvailableEventsCount}}" ></h1>
             </svg>
            <h1 class="xl:text-[1.1rem] lg:text-[1rem] md:text-[0.8rem] min-[320px]:text-[0.5rem] font-medium xl:mt-[0.2rem] lg:mt-[0.2rem] md:mt-[0.1rem] min-[320px]:mt-[0.2rem]">Not Available Events</h1>
         </div>
      </div>
  </section>
   <section class="events w-[99%] h-full mt-[6rem] flex flex-col justify-center items-center">
      <h1 class="  text-3xl mb-10 text-[#50A8F5] font-medium" >Upcoming Events</h1>
      <div class="flex w-full h-[7rem]  justify-center">
<div class="flex flex-row h-full xl:w-[42rem] lg:w-[40rem] md:w-[29rem] min-[320px]:w-[18rem]  justify-between items-center">
            <div class="inputdivparent xl:mr-[3.9rem] lg:mr-[3.9rem] md:mr-[3.9rem] min-[320px]:mr-[0.9rem] " >
               <input onkeyup="myFunction()" id="myInput" class="inputsclass xl:w-[16rem] xl:h-[3.5rem] lg:w-[14.5rem] lg:h-[3.3rem]  md:w-[10rem] md:h-[3.2rem] min-[320px]:w-[6.8rem] min-[320px]:h-[3rem]  rounded-[5rem] drop-shadow-sm" type="text" required>
               <label class="placeholderlabel"   for="Search for events..">Event Title</label>
           </div>
      
            <form class="relative flex flex-row items-center justify-center  " method="POST" action="{% url 'events'  %}">
               {% csrf_token %}
               <div class="inputdivparent" >
                  <select id="LocationRegistration" class="inputsclass xl:w-[16rem] xl:h-[3.5rem] lg:w-[14.5rem] lg:h-[3.3rem]  md:w-[10rem] md:h-[3.2rem] min-[320px]:w-[6.8rem] min-[320px]:h-[3rem]  rounded-[5rem] drop-shadow-sm" name="filter"  >
                    <option value="allevents">All Event</option>
                    <option value="next_week">Next Week</option>
                    <option value="next_month">Next Month</option>
                  </select>
                    <label  class="placeholderlabel"   for="Filter">Events Filter</label>
                    <div class="error"></div>
                </div>
   
   
   
                <button class="xl:w-[9rem] xl:h-[2.7rem] lg:w-[10rem] lg:h-[3rem] md:w-[8rem] md:h-[2.4rem]  min-[320px]:w-[4rem] min-[320px]:h-[2rem] mt-[1.2rem] mb-[0.5rem] bg-[#71B3F1] xl:text-[1rem] lg:text-[1rem] md:text-[0.8rem] min-[320px]:text-[0.5rem] rounded-[10rem] text-white font-semibold text-[1.3rem] drop-shadow-xl xl:ml-[2rem] lg:ml-[2rem] md:ml-[2rem] min-[320px]:ml-[0.5rem] mb-[3rem] hoverzoom" type="submit">
                  <span class="button-text">Apply Filter</span>
                  <div class="fill-container"></div>
                </button>
      
           </form>
</div>
      </div>
      <div class="flex flex-row w-full h-[7rem] xl:ml-[5rem] lg:ml-[5rem] md:ml-[5rem] min-[320px]:ml-[1rem]  justify-center ">

   <form id="EventDateRangeForm" action="{% url 'eventsRange'  %}" method="POST" class="relative items-center  justify-center flex flex-row w-full h-[10rem] mb-[4rem] mb-[4rem] " method="POST" action="{% url 'eventsRange'  %}">
    {% csrf_token %}

     <div class="inputdivparent ">
       <input id='InputStartRange' class="inputsclass xl:w-[16rem] xl:h-[3.5rem] lg:w-[14.5rem] lg:h-[3.3rem]  md:w-[10rem] md:h-[3.2rem] min-[320px]:w-[6.8rem] min-[320px]:h-[3rem] rounded-[5rem] drop-shadow-sm" type="date" name="InputStartRange">
       <label class="placeholderlabel" for="DateRange">Date Range From</label>
   </div>
   <div class="inputdivparent xl:ml-[4rem] lg:ml-[4rem] md:ml-[4rem] min-[320px]:ml-[1rem]">
    <input id='InputEndRange' class="inputsclass xl:w-[16rem] xl:h-[3.5rem] lg:w-[14.5rem] lg:h-[3.3rem]  md:w-[10rem] md:h-[3.2rem] min-[320px]:w-[6.8rem] min-[320px]:h-[3rem]   rounded-[5rem] drop-shadow-sm" type="date" name="InputEndRange">
    <label class="placeholderlabel" for="DateRange">To</label>
</div>
     <button id="ButtonEventRangeForm" class="xl:w-[9rem] xl:h-[2.7rem] lg:w-[10rem] lg:h-[3rem] md:w-[8rem] md:h-[2.4rem] min-[320px]:w-[4rem] min-[320px]:h-[2rem] mt-[1.2rem] mb-[0.5rem] bg-[#71B3F1] xl:text-[1rem] lg:text-[1rem] md:text-[0.8rem] min-[320px]:text-[0.5rem] rounded-[10rem] text-white font-semibold text-[1.3rem] drop-shadow-xl xl:ml-[2rem] lg:ml-[2rem] md:ml-[2rem] min-[320px]:ml-[0.5rem] mb-[3rem] hoverzoom" type="submit" disabled>
      <span class="button-text">Apply Range</span>
      <div class="fill-container"></div>
     </button>

</form>
</div>

   
      <div class="xl:w-[80rem] lg:w-[65rem] md:w-[47rem] min-[320px]:w-[25rem] h-full grid xl:grid-cols-3 xl:grid-row-3 lg:grid-cols-3 lg:grid-row-3 md:grid-cols-2 md:grid-row-3 min-[320px]:grid-cols-1 min-[320px]:grid-row-3 xl:gap-[1.2rem] items-center lg:gap-[0.9rem] md:gap-[2rem] min-[320px]:gap-[1rem]  mt-[1.5rem] mb-[3rem]">
         {% if NoEventsInRange %}
         <div class="xl:w-[80rem] lg:w-[65rem] md:w-[47rem] min-[320px]:w-[25rem] h-[8rem]  flex flex-col justify-center items-center">
            <p class="text-center font-medium xl:text-[1.5rem] lg:text-[1.4rem] md:text-[1rem] min-[320px]:text-[0.8rem]">No events available for the selected date range.</p>

             </div>

         {% endif %}

         {% if NoEventsNextWeek %}
         <div class="xl:w-[80rem] lg:w-[65rem] md:w-[47rem] min-[320px]:w-[25rem] h-[8rem]  flex flex-col justify-center items-center">
            <p class="text-center font-medium xl:text-[1.5rem] lg:text-[1.4rem] md:text-[1rem] min-[320px]:text-[0.8rem]">There are no events available this week.</p>
             </div>

         {% endif %}

         {% if NoEventsNextMonth %}
         <div class="xl:w-[80rem] lg:w-[65rem] md:w-[47rem] min-[320px]:w-[25rem] h-[8rem]  flex flex-col justify-center items-center">
            <p class="text-center font-medium xl:text-[1.5rem] lg:text-[1.4rem] md:text-[1rem] min-[320px]:text-[0.8rem]">There are no events available this month.</p>
             </div>

         {% endif %}
         {% for event in all_events %}
       <div  data-title="{{ event.title }}"  class="event-container   xl:w-[21rem] xl:h-[30rem] lg:w-[19rem] lg:h-[31rem] md:w-[18rem] md:h-[27rem] min-[320px]:w-[14.5rem] min-[320px]:h-[19.5rem] bg-[#F8FCFF] rounded-xl drop-shadow-xl overflow-hidden xl:ml-9 lg:ml-[1rem] md:ml-[2.4rem] min-[320px]:ml-[5.5rem]">
         <div class="w-full" id="post">
          <div class="w-full relative p-[0.1rem]">
             <img class="xl:h-[14rem] lg:h-56 md:h-[10.8rem] min-[320px]:h-[9rem] w-full object-fit" src="{{ event.image.url }}" alt="">
             <div class="xl:w-[6.5rem] xl:h-[2.5rem] lg:w-[7.5rem] lg:h-[2.4rem] md:w-[6.1rem] md:h-[2.2rem] min-[320px]:w-[4rem] min-[320px]:h-[1.6rem] flex justify-center items-center rounded-[3rem] bg-white drop-shadow-lg absolute top-[1rem] left-[1rem] p-[0.2rem]">
               {% if event.status %}
               <h1 class="text-black xl:text-[0.76rem] lg:text-[0.74rem] md:text-[0.65rem] min-[320px]:text-[0.47rem] font-medium ">Event Available</h1>
               {% else  %}
               <h1 class="text-black xl:text-[0.62rem] lg:text-[0.62rem] md:text-[0.6rem] min-[320px]:text-[0.37rem] font-medium  ">Event Not Available</h1>
               {% endif %}
             </div>

          </div>
         </div>
       <div class="h-full w-full flex flex-col items-center p-[0.5rem] " >
           <h1 class=" font-medium  text-stone-900 mt-[0.5rem]  xl:text-[1.4rem] lg:text-[1.5rem] md:text-[1.5rem] min-[320px]:text-[1rem]  ">{{event.title}}</h1>
           <p class="xl:text-[0.8rem] lg:text-[0.8rem] md:text-[0.7rem] min-[320px]:text-[0.5rem] xl:mt-[0.5rem] xl:mb-[1rem]  lg:mt-[1rem] lg:mb-[1rem]  md:mt-[0.9rem] md:mb-[0.9rem]  min-[320px]:mt-[0.4rem] min-[320px]:mb-[0.4rem] text-[#6E8292] text-center">{{event.description}}</p>           
           <button class="xl:w-[8rem] xl:h-[2.5rem] lg:w-[8rem] lg:h-[2rem] md:w-[9rem] md:h-[2.8rem] min-[320px]:w-[5rem] min-[320px]:h-[1.7rem] xl:mt-[0.5rem] lg:mt-[1.5rem] md:mt-[1.2rem] min-[320px]:mt-[0.2rem] mb-[1rem] bg-[#71B3F1] xl:text-[0.9rem] lg:text-[0.8rem] md:text-[0.8rem] min-[320px]:text-[0.6rem] rounded-[10rem] text-white font-semibold text-[1.3rem] drop-shadow-xl hoverzoom " type="button"><a href="{% url 'display_event' event_id=event.id %}" class="">
            <span class="button-text">Learn More...</span>
            <div class="fill-container"></div>
           </a></button>

           
          </div>
       </div>
   
       {% endfor %}
       </div>
   
   
     
   
   </div>
   </section>
</section>




<script>
//search bar function

function myFunction() {
   var input, filter, eventContainers, title, i;
   input = document.getElementById('myInput');
   filter = input.value.toUpperCase();
   eventContainers = document.querySelectorAll(".event-container");

   for (i = 0; i < eventContainers.length; i++) {
      title = eventContainers[i].getAttribute('data-title');
      if (title) {
         if (title.toUpperCase().indexOf(filter) > -1) {
            eventContainers[i].style.display = ""; 
         } else {
            eventContainers[i].style.display = "none";
         }
      }
   }
}


const counters = document.querySelectorAll('.counter');
// Main function
for(let n of counters) {
  const updateCount = () => {
    const target = + n.getAttribute('data-target');
    const count = + n.innerText;
    const speed = 5000; // change animation speed here
    const inc = target / speed; 
    if(count < target) {
      n.innerText = Math.ceil(count + inc);
      setTimeout(updateCount, 3000 / 60);
    } else {
      n.innerText = target;
    }
  }
  updateCount();
}
</script>

{% endblock %}
